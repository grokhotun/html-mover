"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,n){n=n||window;for(var t=0;t<this.length;t++)e.call(n,this[t],t,this)});var htmlMover=function(){var e,n,t,o=document.querySelectorAll("[data-html-mover]"),a=[],r=[];function i(e){return Array.prototype.slice.call(e.parentNode.children).indexOf(e)}function l(e,n){n.before(e)}function c(e,n,t){var o=function(e,n){var t=e.children;return t.length>0?t[n]:null}(n,t);o?l(e,o):function(e,n){n.append(e)}(e,n)}function s(){a.forEach((function(e,n){var t,o,a="html-mover-".concat(e.breakpoint);if(r[n].matches)if(e.originalParent!==e.newParent){if(!e.movingElement.classList.contains(a)&&e.originalParent!==e.newParent){switch(e.newPlace){case"first":c(e.movingElement,e.newParent,0);break;case"last":c(e.movingElement,e.newParent);break;default:if(parseInt(e.newPlace)>=0)c(e.movingElement,e.newParent,parseInt(e.newPlace));else{var i=(t=e.newParent,o=e.newPlace,t.querySelector(".".concat(o)));i&&l(e.movingElement,i)}}e.movingElement.classList.add(a)}}else console.warn("HTML-mover: элемент",e.movingElement,"имеет неверный селектор!");else e.movingElement.classList.contains(a)&&(c(e.movingElement,e.originalParent,e.originalPlace),e.movingElement.classList.remove(a))}))}o.length>0&&(o.forEach((function(e,n){var t=e.getAttribute("data-html-mover").split(",");a[n]={movingElement:e,originalParent:e.parentNode,originalPlace:i(e),newParent:document.querySelector(".".concat(t[0]))||e.parentNode,newPlace:t[1].trim()||"last",breakpoint:parseInt(t[2].trim())||767}})),a.sort((function(e,n){return e.breakpoint>n.breakpoint?-1:1})),a.length>0&&a.forEach((function(e){r.push(window.matchMedia("(max-width: ".concat(e.breakpoint,"px")))})),s(),window.addEventListener("resize",(e=s,n=50,function(){var o=this,a=arguments;clearTimeout(t),t=setTimeout((function(){return e.apply(o,a)}),n)})))};document.addEventListener("DOMContentLoaded",(function(){htmlMover()}));